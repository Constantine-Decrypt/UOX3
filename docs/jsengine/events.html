<html>

<head>
<title>UOX3 API and Event handling document</title>
<style></style>
<link rel="stylesheet" href="style.css" type="text/css">
</head>

<body bgcolor="#333399" text="#999999" link="lightblue" aLink="red" vLink="red">
<center>
	<h1>UOX3 Script Engine</h1>
	<h3>API and Event handling</h3>
</center>

<table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnCreateEvent">onCreate</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onCreate( objMade, objType )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When an item or char is created.  Note that for PCs, this is triggered when they first enter the world.
<tr><td valign="top" width="25%"><b>Notes</b><td>objType == 0 indicates a character<br>objType == 1 indicates an item
<tr><td valign="top" width="25%"><b>Purpose</b><td>Used for customization of players at creation, or tinkering items/chars when they're made.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnDeleteEvent">onDelete</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onDelete( objDestroyed, objType )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When an item or character is deleted
<tr><td valign="top" width="25%"><b>Notes</b><td>objType == 0 indicates a character<br>objType == 1 indicates an item
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnSpeechEvent">onSpeech</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onSpeech( strSaid, pTalking, pTalkingTo )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pTalking says strSaid to pTalkingTo.  pTalkingTo's script is activated
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Greatly improve the speech handling capabilities
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>function onSpeech( strSaid, pTalking, pTalkingTo )
<br>{
<br>	TextMessage( pTalkingTo, strSaid );
<br>}
<br>// This is a simple mimic NPC.  Everything that someone says to it is quoted back verbatim
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="InRangeEvent">inRange</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function inRange( pCharacter, objInRange, objType )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>objInRange comes into visible range of pCharacter.  pCharacter's script is activated
<tr><td valign="top" width="25%"><b>Notes</b><td>objType == 0 indicates objInRange is a character<br>objType == 1 indicates objInRange is an item
<tr><td valign="top" width="25%"><b>Purpose</b><td>Useful for when you want to do something when a certain thing comes into range.  You could yell out guards when a murderer comes into range, for instance, if you're in a guarded region.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>function inRange( pCharacter, objInRange, objType )
<br>{
<br>	if( objType == 1 )	// An item came into range
<br>	{
<br>		DoStaticEffect( pCharacter, 0x376A, 9, 0, 0 );	// Make some sparkles!
<br>		var iID;
<br>		iID = GetID( objInRange, objType );	// What's the ID of the item?
<br>		if( iID == 0x1416 )			// Ooh, it's a purty piece of armour
<br>		{
<br>			EmoteMessage( pCharacter, "*ooooooooooooo*" );
<br>		}
<br>	}
<br>}
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnCollideEvent">onCollide</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onCollide( targSock, pColliding, objCollidedWith )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pColliding collides with objCollidedWith (stepped on basically)
<tr><td valign="top" width="25%"><b>Notes</b><td>objCollidedWith is only an item currently.  targSock is -1 if pColliding is an NPC
<tr><td valign="top" width="25%"><b>Purpose</b><td>Replace of collision based triggers, increase teleporter abilities
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>function onCollide( trgSock, srcChar, trgItem )
<br>{
<br>	var xLoc = GetX( srcChar, 0 );	// Let's get our current location
<br>	var yLoc = GetY( srcChar, 0 );
<br>	var zLoc = GetZ( srcChar, 0 );
<br>	var txLoc = xLoc + 5;		// We want to move 5 paces away, on X
<br>	var tyLoc = yLoc + 5;		// Same again on y
<br>	var tzLoc = zLoc;
<br>	SetLocation( srcChar, txLoc, tyLoc, tzLoc, 0 );	// Move us!
<br>	EmoteMessage( srcChar, "*Eegads, I am teleported!*" );	// Emote something
<br>	DoStaticEffect( srcChar, 0x376A, 9, 0, 0 );	// Make some sparkles!
<br>}
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnStealEvent">onSteal</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onSteal( thief, objStolen )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When thief steals objStolen.  objStolen's script is activated
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Specialization of stealing.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnDispelEvent">onDispel</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onDispel( objDispelled, objType )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When objDispelled is dispelled.  objDispelled's script is activated.
<tr><td valign="top" width="25%"><b>Notes</b><td>objType == 0 indicates a character<br>objType == 1 indicates an item
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnSkillEvent">onSkill</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onSkill( objUsing, skillUsed, objType )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>when objUsing uses skill skillUsed.  objUsing's script is activated.
<tr><td valign="top" width="25%"><b>Notes</b><td>objType == 0 indicates objUsing is a character<br>objType == 1 indicates objUsing is an item
<tr><td valign="top" width="25%"><b>Purpose</b><td>Complements the use of current skill code.  Fires before any existing usage code kicks in.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnAttackEvent">onAttack</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onAttack( pAttacker, pDefender )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pAttacker attacks pDefender
<tr><td valign="top" width="25%"><b>Notes</b><td>pAttacker's script is activated, and pDefender's onDefense event is fired
<tr><td valign="top" width="25%"><b>Purpose</b><td>Flesh out the attacking code.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnDefenseEvent">onDefense</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onDefense( pAttacker, pDefender )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pAttacker attacks pDefender
<tr><td valign="top" width="25%"><b>Notes</b><td>pDefender's script fires, pAttacker's onAttack event is also fired
<tr><td valign="top" width="25%"><b>Purpose</b><td>Flesh out the attacking code.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnSkillGainEvent">onSkillGain</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onSkillGain( pPlayer, skill )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>when pPlayer gains in skill skill
<tr><td valign="top" width="25%"><b>Notes</b><td> 
<tr><td valign="top" width="25%"><b>Purpose</b><td>For taking actions when you gain skill.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>function onSkillGain( pPlayer, skill )
<br>{
<br>	var iSkill = GetSkill( pPlayer, skill );
<br>	iSkill = iSkill + 1;
<br>	SetSkill( pPlayer, skill, iSkill );	// we always go up in 0.2 rather than 0.1
<br>}
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnSkillLossEvent">onSkillLoss</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onSkillLoss( pPlayer, skill )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pPlayer loses in skill skill
<tr><td valign="top" width="25%"><b>Notes</b><td> 
<tr><td valign="top" width="25%"><b>Purpose</b><td>For doing something when you lose skill
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>function onSkillLoss( pPlayer, skill )
<br>{
<br>	TextMessage( pPlayer, "Oh no, I've lost skill!" );
<br>}
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnSkillChangeEvent">onSkillChange</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onSkillChange( pPlayer, skill )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>This is fired if onSkillLoss isn't defined for skill loss, or onSkillGain isn't defined for skill gain.
<tr><td valign="top" width="25%"><b>Notes</b><td> 
<tr><td valign="top" width="25%"><b>Purpose</b><td>Allows you to take action when your skill level changes
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>function onSkillChange( pPlayer, skill )
{
	TextMessage( pPlayer, "Oh dear, my skill's changed" );
}
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnStatGainEvent">onStatGain</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onStatGain( pPlayer, stat )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pPlayer gains in stat stat
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>For taking action when a person gains in a stat
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnStatLossEvent">onStatLoss</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onStatLoss( pPlayer, stat )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pPlayer loses in stat stat
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>For taking action when a person loses in a stat
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnStatChangeEvent">onStatChange</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onStatChange( pPlayer, stat )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>If onStatLoss isn't defined, and stat went down, or if onStatGain isn't defined and stat went up
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnDropEvent">onDrop</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onDrop( iDropped, pDropper )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pDropper drops iDropped.
<tr><td valign="top" width="25%"><b>Notes</b><td>iDropped's script is activated.
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnPickupEvent">onPickup</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onPickup( iPickedUp, pGrabber )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pGrabber picks up iPickedUp
<tr><td valign="top" width="25%"><b>Notes</b><td>iPickedUp's script is activated.
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnSwingEvent">onSwing</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onSwing( iSwung, pSwinging, pSwingAt )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pSwinging swings iSwung at pSwingAt.
<tr><td valign="top" width="25%"><b>Notes</b><td>iSwung's script is activated
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnDecayEvent">onDecay</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onDecay( iDecaying )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When iDecaying decays
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnTransferEvent">onTransfer</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onTransfer( iTransferred, pSrc, pTrg )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pSrc transfers iTransferred to pTrg
<tr><td valign="top" width="25%"><b>Notes</b><td>iTransferred's script is activated
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnLeavingEvent">onLeaving</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onLeaving( iLeft, objLeaving, objType )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>when objLeaving leaves the multi object iLeft
<tr><td valign="top" width="25%"><b>Notes</b><td>objType == 0 indicates objLeaving is a character<br>objType == 1 indicates objLeaving is an item<br>iLeft's script is activated
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnEntranceEvent">onEntrance</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onEntrance( iEntered, objEntering, objType )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When objEntering enters the multi object iEntered
<tr><td valign="top" width="25%"><b>Notes</b><td>objType == 0 indicates objEntering is a character<br>objType == 1 indicates objEntering is an item<br>iEntered's script is activated
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnEquipEvent">onEquip</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onEquip( pEquipper, iEquipped )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pEquipper equips iEquipped
<tr><td valign="top" width="25%"><b>Notes</b><td>iEquipped's script is activated
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnUnequipEvent">onUnequip</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onUnequip( pEquipper, iUnequipped )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pEquipper unequips iUnequipped
<tr><td valign="top" width="25%"><b>Notes</b><td>iUnequipped's script is activated
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnUseEvent">onUse</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onUse( pUser, iUsed )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pUser uses iUsed.  Replaces any code behaviour that may exist
<tr><td valign="top" width="25%"><b>Notes</b><td>iUsed's script is activated
<tr><td valign="top" width="25%"><b>Purpose</b><td>To allow greater customization on using items.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>function onUse( pUser, iUsed )
<br>{
<br>	DoStaticEffect( pUser, 0x376A, 9, 0, 0 );	// Make some sparkles
<br>	TextMessage( pUser, "That's the way the cookie crumbles!" );	// Say something
<br>}
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OutOfRange">OutOfRange</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function OutOfRange( pChar, objVanish, objType )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When objVanish goes out of range of pChar
<tr><td valign="top" width="25%"><b>Notes</b><td>objType == 0 indicates objVanish is a character<br>objType == 1 indicates objVanish is an item
<tr><td valign="top" width="25%"><b>Purpose</b><td>To take actions based on when things go out of range.  For instance, if you ran out of range of your attacker, you might decide to automatically try and hide.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnLogin">onLogin</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onLogin( sockPlayer, pChar )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pChar is logged in to the world
<tr><td valign="top" width="25%"><b>Notes</b><td>sockPlayer is never -1
<tr><td valign="top" width="25%"><b>Purpose</b><td>To allow customization of what happens when a player logs in.  Could pop up custom gumps, or do certain things (say everyone ALWAYS starts in one spot, no matter where they logged in.  Diabloesque hall logins).
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>function onLogin( sockPlayer, pChar )
<br>{
<br>	SetLocation( pChar, 1000, 1000, 0, 0 );
<br>}
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnFall">onFall</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onFall( pFall, fallDistance )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pFall falls fallDistance
<tr><td valign="top" width="25%"><b>Notes</b><td>pFall can be either an npc or pc
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnSellEvent">onSell</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnBuyEvent">onBuy</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnAISliverEvent">onAISliver</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onAISliver( npcChar )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>Every AI loop, during their AI slice
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Great customization of AI on a per NPC basis.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnSystemSliceEvent">onSystemSlice</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnUnknownTriggerEvent">onUnknownTrigger</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnLightChangeEvent">onLightChange</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnXYZEvent">onXYZEvent</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnPortalEvent">onPortal</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnTimerEvent">onTimer</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onTimer( tChar, timerID )
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When tempeffect 40 (StartTimer) duration has elapsed for timer timerID
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>To be used for custom timer information for characters.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>function onTimer( tChar, timerID )
<br>{
<br>	if( timerID == 0 )
<br>	{
<br>		DoStaticEffect( pCharacter, 0x376A, 9, 0, 0 );	// Make some sparkles!
<br>	}
<br>}
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnDeathEvent">onDeath</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onDeath( pDead );
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When the player or NPC pDead dies
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>Custom death sequence.  Can do things like an explosion anim and what not here, for impact's sake.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnResurrectEvent">onResurrect</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onRessurect( pAlive );
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When a player pAlive is resurrected.
<tr><td valign="top" width="25%"><b>Notes</b><td>Only applies to PCs
<tr><td valign="top" width="25%"><b>Purpose</b><td>Control over what happens when a person comes alive once more
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>function onResurrect( pAlive )
<br>{
<br>	TextMessage( pAlive, "I'm alive again!" );
<br>}
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnFlagChangeEvent">onFlagChange</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onFlagChange( pChanging, newStatus, oldStatus );
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When a player's status changes.  IE innocent -> criminal, criminal->murderer, and so on.
<tr><td valign="top" width="25%"><b>Notes</b><td>May not fire instantly when the action is made.  However, won't be long after change occurs will it be visible.
<tr><td valign="top" width="25%"><b>Purpose</b><td>
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnHungerChangeEvent">onHungerChange</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onHungerChange( pChanging, newStatus );
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When a player's hunger level changes goes down.
<tr><td valign="top" width="25%"><b>Notes</b><td>If overridden, the normal hunger messages are not displayed.
<tr><td valign="top" width="25%"><b>Purpose</b><td>To allow customization of behaviour when a character's hunger level changes.  Could be used for wilding of pets, or for changing AI of monsters.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>function onHungerChange( pChanging, newStatus )
<br>{
<br>	TextMessage( pChanging, "ooooo, I feel more hungry" );
<br>	if( newStatus == 0 )
<br>	{
<br>		TextMessage( pChanging, "I'm melting, I'm melting!" );
<br>	}
<br>}
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnSnoopedEvent">onSnooped</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onSnooped( pSnooped, pSnooping, bSuccess );
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When pSnooped snoops into pSnooping's pack.
<tr><td valign="top" width="25%"><b>Notes</b><td>If overridden, internal behaviour not executed.  IE no calling for guards, no messages sent to snooper or snooped. bSuccess is true if successfully snooped, or false if not
<tr><td valign="top" width="25%"><b>Purpose</b><td>To allow for behavioural change on snooping behaviour.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>function onSnooped( pSnooped, pSnooping, bSuccess )
<br>{
<br>	TextMessage( pSnooped, "Oi! You! Stop snooping!" );
<br>}
</pre></table>

<p>&nbsp;</p><table border="1" width="100%" cellspacing="0">
<tr><th colspan=2 bgcolor="maroon"><a name="OnStolenFromEvent">onStolenFrom</a>
<tr><td valign="top" width="25%"><b>Prototype</b><td><pre>function onStolenFrom( pThief, pVictim, iStolen );
</pre><tr><td valign="top" width="25%"><b>When triggered</b><td>When the player pThief steals the item iStolen from the character pVictim
<tr><td valign="top" width="25%"><b>Notes</b><td>
<tr><td valign="top" width="25%"><b>Purpose</b><td>To allow for response when items are stolen from a player.
<tr><td valign="top" width="25%"><b>Example of Usage</b><td><pre>function onStolenFrom( pThief, pVictim, iStolen )
<br>{
<br>	TextMessage( pVictim, "Hey you, get your hands off my banana!" );
<br>	Attack( pVictim, pThief );
<br>	YellMessage( pVictim, "GUARDS!!!!!!!" );
<br>}
</pre></table>

<center>
<font face="Tahoma,Arial,MS Sans Serif" size="1">©Copyright 2000-2001 <a href="http://www.uox3.net">WWW.UOX3.NET</a> (Daniel Stratton/Matthew Randall)</font>
</center>

</body>